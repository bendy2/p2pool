<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tari-Cpu TPOOLåˆ†äº«æ± </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <!-- æ·»åŠ  Toast æ ·å¼ -->
    <style>
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
        }
        .happy-toast {
            background: linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
            color: #fff;
            border: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .happy-toast .toast-header {
            background: transparent;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            color: #fff;
        }
        .happy-toast .toast-body {
            font-size: 1.1em;
            padding: 15px;
        }
        .emoji {
            font-size: 1.5em;
            margin-right: 10px;
        }
    </style>
    <!-- Disqus é…ç½® -->
    <script>
        var disqus_config = function () {
            this.page.url = 'https://www.tpool.cc';  // ä½ çš„ç½‘ç«™URL
            this.page.identifier = 'tpool-pro';  // å”¯ä¸€æ ‡è¯†ç¬¦
            this.page.title = 'Tari Pool Announcements';
            this.language = 'zh';  // è®¾ç½®è¯­è¨€ä¸ºä¸­æ–‡
        };
    </script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Tari-Cpu</a>   <a href="https://t.me/+FShj1uLvag0zYTRl" target="_blank">TGäº¤æµç¾¤</a>
            <div class="d-flex">
                <form class="d-flex" action="/u/" method="get">
                    <input class="form-control me-20" type="search" name="username" placeholder="è¾“å…¥ç”¨æˆ·å(TARIé’±åŒ…åœ°å€)" required>
                    <button class="btn btn-outline-light" type="submit">æŸ¥è¯¢</button>
                </form>
            </div>
        </div>
    </nav>


        <!-- Disqus å…¬å‘Šæ¿ -->
        <div class="container-fluid mt-4">
            <div class="card mb-4">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0"><i class="bi bi-megaphone"></i> çŸ¿æ± å…¬å‘Š</h5>

                </div>
                <div class="card-body">
                    <div class="alert alert-info">                        
                        5-19   å…³äºæ˜¨å¤© äº‹ä»¶çš„è¡¥å¿è®¡ç®—æ–¹æ¡ˆå·²ç»å®Œæˆ.å…±1809297ä¸ªXTMå’Œ24.079954ä¸ªXMTå·²ç»åˆ†å‘è‡³æ‰€æœ‰ç”¨æˆ·..
                        å¹¶å·²ç»å®Œæˆæ‰€æœ‰å¸æˆ·ä½™é¢å‘æ”¾.
                    </div>
                </div>
            </div>
        </div>

       <!-- çŸ¿æ± çŠ¶æ€ -->
       <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    çŸ¿æ± çŠ¶æ€
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-2">
                            <div class="status-item">
                                <h5>æ€»ç®—åŠ›</h5>
                                <p id="total-hashrate">0 H/s</p>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="status-item">
                                <h5>åœ¨çº¿çŸ¿å·¥</h5>
                                <p id="active-miners">0</p>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="status-item">
                                <h5>XMRæ€»å¥–åŠ±</h5>
                                <p id="xmr-balance">0.000000 XMR</p>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="status-item">
                                <h5>TARIæ€»å¥–åŠ±</h5>
                                <p id="tari-balance">0.00 XTM</p>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="status-item">
                                <h5>XMRå·²æ”¯ä»˜</h5>
                                <p id="xmr-paid">0.000000 XMR</p>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="status-item">
                                <h5>TARIå·²æ”¯ä»˜</h5>
                                <p id="tari-paid">0.00 XTM</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
            <!-- å›¾è¡¨åŒºåŸŸ -->
        <div class="row mb-4">
            <!-- çŸ¿æ± ç®—åŠ›èµ°åŠ¿å›¾ -->
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">çŸ¿æ± ç®—åŠ›èµ°åŠ¿</h5>
                        <div style="height: 300px;">
                            <div id="hashrateChart" style="width: 100%; height: 100%;"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- XMRåŒºå—æ—¶é—´é—´éš”å›¾ -->
            <div class="col-md-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">XMRåŒºå—æ—¶é—´é—´éš”</h5>
                        <div style="height: 300px;">
                            <div id="xmrBlockIntervalChart" style="width: 100%; height: 100%;"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TARIåŒºå—æ—¶é—´é—´éš”å›¾ -->
            <div class="col-md-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">TARIåŒºå—æ—¶é—´é—´éš”</h5>
                        <div style="height: 300px;">
                            <div id="tariBlockIntervalChart" style="width: 100%; height: 100%;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

 

        <!-- åœ¨çº¿çŸ¿å·¥å’ŒåŒºå—ä¿¡æ¯ -->
        <div class="row mb-4">
            <!-- åœ¨çº¿çŸ¿å·¥ -->
            <div class="col-md-3">
                <div class="card h-100">
                    <div class="card-header">
                        åœ¨çº¿çŸ¿å·¥
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">                        
                            è¯´æ˜: ç®—åŠ›åªæ˜¯å‚è€ƒæ•°æ®(å¦‚æœçŸ¿å·¥ä¸æ˜¯ä½¿ç”¨xmrig-proxyè¿æ¥çš„çŸ¿æ± ,ç®—åŠ›ä¼šè™šé«˜),çŸ¿æ± å®é™…æ ¹æ®SHAREè®¡æ•°æ¥åˆ†é…æ¯ä¸ªBLOCKçš„æ”¶ç›Š
                        </div>
                        <div class="table-responsive" >
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>ç”¨æˆ·å</th>
                                        <th>ç®—åŠ›</th>
                                        <th>XMR-share</th>
                                        <th>TARI-share</th>
                                    </tr>
                                </thead>
                                <tbody id="online-miners-list">
                                    <!-- æ•°æ®å°†é€šè¿‡ JavaScript åŠ¨æ€åŠ è½½ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- åŒºå—ä¿¡æ¯ -->
            <div class="col-md-9">
                <div class="card" style="height: calc(100vh - 200px);">
                    <div class="card-header">2
                        åŒºå—ä¿¡æ¯
                    </div>
                    <div class="card-body" style="padding: 0; height: calc(100% - 48px);">
                        <div class="table" style="height: 100%; overflow-y: auto;">
                            <table class="table table-striped table-hover mb-0">
                                <thead class="sticky-top bg-dark text-light">
                                    <tr>
                                        <th>æ—¶é—´</th>
                                        <th>é«˜åº¦</th>
                                        <th>åŒºå—å“ˆå¸Œ</th>
                                        <th>ç±»å‹</th>
                                        <th>å¥–åŠ±</th>
                                        <th>çŠ¶æ€</th>
                                    </tr>
                                </thead>
                                <tbody id="blocks-list">
                                    <!-- æ•°æ®å°†é€šè¿‡ JavaScript åŠ¨æ€åŠ è½½ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- çŸ¿æ± ä»‹ç» -->
        <div class="row justify-content-center">
            <div class="col-12 col-md-10 col-lg-8">
                <div class="card">
                    <div class="card-header">
                        çŸ¿æ± ä»‹ç»
                    </div>
                    <div class="card-body">
                        <div class="pool-intro">
                            <h4>å…³äºæˆ‘ä»¬</h4>
                            <p>è¿™æ˜¯ä¸€ä¸ªåŸºäºP2Poolçš„Tari-CPUæŒ–çŸ¿çŸ¿æ± ï¼Œæ”¯æŒXMRå’ŒTARIåŒæŒ–ã€‚</p>
                            <p>çŸ¿æ± åœ°å€: tari.tpool.pro:33333</p>
                            
                            <h4>çŸ¿æ± ç‰¹ç‚¹</h4>
                            <ul>
                                <li>æ”¯æŒXMRå’ŒTARIåŒæŒ–</li>
                                <li>ä½è´¹ç‡ï¼Œé«˜æ”¶ç›Š.åŒå€æ”¶ç›Š.çˆ½æ­ªæ­ª</li>
                                <li>å®æ—¶æ”¶ç›Šè®¡ç®—.åªè¦æœ‰SHAREæäº¤(è½¯ä»¶ä¸Šèƒ½çœ‹è§) å°±å¯ä»¥æœ‰æ”¶ç›Š! </li>
                                <li>é—¨ç½—å¸èµ·ä»˜ç‚¹ 0.01XMR æ— é”å®šæœŸ.TARIå¸çˆ†å—ç½‘ç»œé”å®š18å°æ—¶,èµ·ä»˜ç‚¹100XTM</li>
                                <li>å…¶äºå®‰å…¨ç†ç”±.æ¯å¤©ä¸­åˆ12ç‚¹å’Œå‡Œæ™¨12ç‚¹ ç»Ÿä¸€æ”¯ä»˜</li>
                                <li>åœ¨é¡µé¢å·¦ä¸Šè§’è¾“å…¥TARIåœ°å€æˆ–è€… è‡ªå®šä¹‰çš„-uç”¨æˆ·å æŸ¥çœ‹ä¿¡æ¯</li>
                            </ul>
                            
                            <h4>æŒ–çŸ¿é…ç½®</h4>
                            <div class="config-example">
                                <pre><code>./xmrig -o tari.tpool.pro:33333 -u  XMR_WALLER_ADDRESS:TARI_WALLER_ADDRESS</code><br>è¯·ä¸¥æ ¼æŒ‰è¿™æ ¼å¼ä½œä¸º-uå‚æ•°ä½œä¸ºç”¨æˆ·å..ä¸è¦æ·»åŠ å…¶ä»–å‚æ•°. <BR>å°½å¿«ä½¿ç”¨xmrig-proxyæ¥å°†åŒä¸€å±€åŸŸç½‘å†…å¤šå°æœºå™¨é›†ä¸­-ä¸­è½¬ä¸€ä¸‹...å¦‚æœå¤šæœºå™¨ç›´è¿çŸ¿æ± ..çŸ¿æ± è®°å½•çš„ç®—åŠ›ä¼šè™šé«˜.</pre>
                                <pre>ä»£ç†è¿æ¥æ–¹æ³•:  ./xmrig-proxy -b 0.0.0.0:12345  -o tari.tpool.pro:33333 -u  XMR_WALLER_ADDRESS:TARI_WALLER_ADDRES ä»£ç† è¿æ¥å..æ‰€æœ‰æœºå™¨å°±è¿æ¥ä»£ç† å³å¯.../xmrig -o 192.168.0.2:12345   (å‡è®¾PROXYçš„å†…ç½‘IPæ˜¯192.168.0.2 ) </pre>
                            </div>
                            
                            <h4>è´¹ç‡è¯´æ˜</h4>
                            <p>çŸ¿æ± è´¹ç‡ä¸º8%ï¼Œç”¨äºç»´æŠ¤çŸ¿æ± è¿è¥å’Œå¼€å‘ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script>
    // åˆå§‹åŒ–ç®—åŠ›èµ°åŠ¿å›¾
    function initHashrateChart() {
        const chartDom = document.getElementById('hashrateChart');
        const myChart = echarts.init(chartDom);
        
        const option = {
            title: {
                text: 'çŸ¿æ± ç®—åŠ›èµ°åŠ¿',
                left: 'center',
                top: 0,
                textStyle: {
                    fontSize: 14
                }
            },
            grid: {
                top: 30,
                right: 20,
                bottom: 30,
                left: 50,
                containLabel: true
            },
            tooltip: {
                trigger: 'axis',
                formatter: function(params) {
                    const data = params[0];
                    const date = new Date(data.value[0]);
                    const time = date.toLocaleTimeString('zh-CN', {
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit',
                        hour12: false
                    });
                    return `${time}<br/>${(data.value[1]/1000/1000).toFixed(2)} MH/s`;
                }
            },
            xAxis: {
                type: 'time',
                axisLabel: {
                    formatter: function(value) {
                        const date = new Date(value);
                        return date.toLocaleTimeString('zh-CN', {
                            hour: '2-digit',
                            minute: '2-digit',
                            hour12: false
                        });
                    },
                    interval: 'auto',
                    rotate: 45
                },
                splitLine: {
                    show: true,
                    lineStyle: {
                        type: 'dashed'
                    }
                }
            },
            yAxis: {
                type: 'value',
                name: 'ç®—åŠ›',
                nameTextStyle: {
                    padding: [0, 0, 0, 40]
                },
                axisLabel: {
                    formatter: function(value) {
                        return (value/1000/1000).toFixed(0) + 'M';
                    }
                },
                splitLine: {
                    show: true,
                    lineStyle: {
                        type: 'dashed'
                    }
                }
            },
            series: [{
                name: 'çŸ¿æ± ç®—åŠ›',
                type: 'line',
                smooth: true,
                showSymbol: false,
                areaStyle: {
                    opacity: 0.1,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        { offset: 0, color: 'rgb(54, 162, 235)' },
                        { offset: 1, color: 'rgba(54, 162, 235, 0.1)' }
                    ])
                },
                lineStyle: {
                    width: 2,
                    color: 'rgb(54, 162, 235)'
                },
                data: []
            }]
        };
        
        myChart.setOption(option);
        return myChart;
    }

    // æ›´æ–°ç®—åŠ›æ•°æ®
    function updateHashrateData() {
        // ä½¿ç”¨å·²æœ‰çš„blocksæ•°æ®
        const blocksList = document.getElementById('blocks-list');
        if (!blocksList) return;

        const chart = echarts.getInstanceByDom(document.getElementById('hashrateChart'));
        if (!chart) return;

        const rows = blocksList.getElementsByTagName('tr');
        if (rows.length < 2) return;

        const formattedData = [];
        for (let i = 1; i < rows.length; i++) {
            const currentRow = rows[i];
            const prevRow = rows[i-1];
            
            const currentTime = new Date(currentRow.cells[0].textContent).getTime();
            const prevTime = new Date(prevRow.cells[0].textContent).getTime();
            const timeDiff = (currentTime - prevTime) / 1000; // è½¬æ¢ä¸ºç§’

            if (timeDiff > 0) {
                // ä»çŠ¶æ€åˆ—è·å–éš¾åº¦ä¿¡æ¯
                const currentStatus = currentRow.cells[5].textContent;
                const difficulty = parseFloat(currentStatus.split(' ')[0]) || 0;
                
                // è®¡ç®—ç®—åŠ› (difficulty / time_diff)
                const hashrate = (difficulty / timeDiff) * 1000; // è½¬æ¢ä¸ºH/s
                formattedData.push([currentTime, hashrate]);
            }
        }

        chart.setOption({
            series: [{
                data: formattedData
            }]
        });
    }

    // æ·»åŠ æ˜¾ç¤ºå¼€å¿ƒé€šçŸ¥çš„å‡½æ•°
    function showHappyToast(blockType, reward) {
        const toastContainer = document.querySelector('.toast-container') || (() => {
            const container = document.createElement('div');
            container.className = 'toast-container';
            document.body.appendChild(container);
            return container;
        })();

        const toast = document.createElement('div');
        toast.className = 'toast happy-toast';
        toast.setAttribute('role', 'alert');
        toast.setAttribute('aria-live', 'assertive');
        toast.setAttribute('aria-atomic', 'true');

        const emoji = blockType === 'XMR' ? 'ğŸ‰' : 'ğŸŒŸ';
        const message = blockType === 'XMR' ? 
            `å¤ªæ£’äº†ï¼æˆ‘ä»¬æŒ–åˆ°äº†æ–°çš„XMRåŒºå—ï¼å¥–åŠ±: ${reward}` :
            `å¤ªæ£’äº†ï¼æˆ‘ä»¬æŒ–åˆ°äº†æ–°çš„TARIåŒºå—ï¼å¥–åŠ±: ${reward}`;

        toast.innerHTML = `
            <div class="toast-header">
                <span class="emoji">${emoji}</span>
                <strong class="me-auto">å¥½æ¶ˆæ¯ï¼</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                ${message}
            </div>
        `;

        toastContainer.appendChild(toast);
        const bsToast = new bootstrap.Toast(toast, {
            autohide: true,
            delay: 3000
        });
        bsToast.show();

        // 3ç§’åç§»é™¤toastå…ƒç´ 
        setTimeout(() => {
            toast.remove();
        }, 3000);
    }

    // æ›´æ–°åŒºå—ç»Ÿè®¡å›¾è¡¨
    function updateBlockStats() {
        const blocksList = document.getElementById('blocks-list');
        if (!blocksList) return;

        const xmrChart = echarts.getInstanceByDom(document.getElementById('xmrBlockIntervalChart'));
        const tariChart = echarts.getInstanceByDom(document.getElementById('tariBlockIntervalChart'));
        if (!xmrChart || !tariChart) return;

        const rows = blocksList.getElementsByTagName('tr');
        if (rows.length < 1) return;

        // æŒ‰å°æ—¶ç»Ÿè®¡XMRå’ŒTARIåŒºå—æ•°
        const xmrStats = {};
        const tariStats = {};
        let earliestTime = null;

        for (let i = 0; i < rows.length; i++) {
            const row = rows[i];
            const timeStr = row.cells[0].textContent;
            const blockType = row.cells[3].textContent.trim();
            
            // è§£ææ—¶é—´å­—ç¬¦ä¸²ä¸ºDateå¯¹è±¡
            const date = new Date(timeStr);
            if (!earliestTime || date < earliestTime) {
                earliestTime = date;
            }
            
            const hourKey = date.toLocaleString('zh-CN', {
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit'
            });

            if (blockType === 'XMR') {
                xmrStats[hourKey] = (xmrStats[hourKey] || 0) + 1;
            } else if (blockType === 'TARI') {
                tariStats[hourKey] = (tariStats[hourKey] || 0) + 1;
            }
        }

        // ç”Ÿæˆæ—¶é—´èŒƒå›´
        const timeRange = [];
        const endTime = new Date();
        let currentTime = earliestTime;
        
        while (currentTime <= endTime) {
            const hourKey = currentTime.toLocaleString('zh-CN', {
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit'
            });
            timeRange.push(hourKey);
            currentTime.setHours(currentTime.getHours() + 1);
        }

        // æ›´æ–°XMRåŒºå—ç»Ÿè®¡å›¾è¡¨
        xmrChart.setOption({
            xAxis: {
                data: timeRange
            },
            series: [{
                data: timeRange.map(time => [time, xmrStats[time] || 0])
            }]
        });

        // æ›´æ–°TARIåŒºå—ç»Ÿè®¡å›¾è¡¨
        tariChart.setOption({
            xAxis: {
                data: timeRange
            },
            series: [{
                data: timeRange.map(time => [time, tariStats[time] || 0])
            }]
        });
    }

    // åˆå§‹åŒ–XMRåŒºå—ç»Ÿè®¡å›¾è¡¨
    function initXmrBlockIntervalChart() {
        const chartDom = document.getElementById('xmrBlockIntervalChart');
        const myChart = echarts.init(chartDom);
        
        const option = {
            title: {
                text: 'XMRåŒºå—æ•°/å°æ—¶',
                left: 'center',
                top: 0,
                textStyle: {
                    fontSize: 14
                }
            },
            tooltip: {
                trigger: 'axis',
                formatter: function(params) {
                    const data = params[0];
                    return `æ—¶é—´: ${data.value[0]}<br/>åŒºå—æ•°: ${data.value[1]}`;
                }
            },
            xAxis: {
                type: 'category',
                axisLabel: {
                    rotate: 45
                }
            },
            yAxis: {
                type: 'value',
                name: 'åŒºå—æ•°',
                nameTextStyle: {
                    padding: [0, 0, 0, 40]
                }
            },
            series: [{
                name: 'XMRåŒºå—æ•°',
                type: 'bar',
                barWidth: '60%',
                itemStyle: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        { offset: 0, color: '#83bff6' },
                        { offset: 0.5, color: '#188df0' },
                        { offset: 1, color: '#188df0' }
                    ])
                },
                emphasis: {
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0, color: '#2378f7' },
                            { offset: 0.7, color: '#2378f7' },
                            { offset: 1, color: '#83bff6' }
                        ])
                    }
                },
                data: []
            }]
        };
        
        myChart.setOption(option);
        return myChart;
    }

    // åˆå§‹åŒ–TARIåŒºå—ç»Ÿè®¡å›¾è¡¨
    function initTariBlockIntervalChart() {
        const chartDom = document.getElementById('tariBlockIntervalChart');
        const myChart = echarts.init(chartDom);
        
        const option = {
            title: {
                text: 'TARIåŒºå—æ•°/å°æ—¶',
                left: 'center',
                top: 0,
                textStyle: {
                    fontSize: 14
                }
            },
            tooltip: {
                trigger: 'axis',
                formatter: function(params) {
                    const data = params[0];
                    return `æ—¶é—´: ${data.value[0]}<br/>åŒºå—æ•°: ${data.value[1]}`;
                }
            },
            xAxis: {
                type: 'category',
                axisLabel: {
                    rotate: 45
                }
            },
            yAxis: {
                type: 'value',
                name: 'åŒºå—æ•°',
                nameTextStyle: {
                    padding: [0, 0, 0, 40]
                }
            },
            series: [{
                name: 'TARIåŒºå—æ•°',
                type: 'bar',
                barWidth: '60%',
                itemStyle: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        { offset: 0, color: '#91cc75' },
                        { offset: 0.5, color: '#5470c6' },
                        { offset: 1, color: '#5470c6' }
                    ])
                },
                emphasis: {
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0, color: '#5470c6' },
                            { offset: 0.7, color: '#5470c6' },
                            { offset: 1, color: '#91cc75' }
                        ])
                    }
                },
                data: []
            }]
        };
        
        myChart.setOption(option);
        return myChart;
    }

    // åˆå§‹åŒ–å›¾è¡¨
    const hashrateChart = initHashrateChart();
    const xmrBlockIntervalChart = initXmrBlockIntervalChart();
    const tariBlockIntervalChart = initTariBlockIntervalChart();

    // å®šæœŸæ›´æ–°æ•°æ®
    setInterval(updateBlockStats, 30000);  // æ¯30ç§’æ›´æ–°ä¸€æ¬¡åŒºå—ç»Ÿè®¡
    setInterval(updateBlocks, 10000);      // æ¯10ç§’æ›´æ–°ä¸€æ¬¡åŒºå—åˆ—è¡¨

    // é¡µé¢åŠ è½½æ—¶ç«‹å³æ›´æ–°ä¸€æ¬¡
    updateBlockStats();
    updateBlocks();

    // ç›‘å¬çª—å£å¤§å°å˜åŒ–ï¼Œè°ƒæ•´å›¾è¡¨å¤§å°
    window.addEventListener('resize', function() {
        const chart = echarts.getInstanceByDom(document.getElementById('hashrateChart'));
        const xmrChart = echarts.getInstanceByDom(document.getElementById('xmrBlockIntervalChart'));
        const tariChart = echarts.getInstanceByDom(document.getElementById('tariBlockIntervalChart'));
        if (chart) chart.resize();
        if (xmrChart) xmrChart.resize();
        if (tariChart) tariChart.resize();
    });

    </script>

    <style>
    /* æ·»åŠ æ–°çš„æ ·å¼ */
    .table-responsive {
        scrollbar-width: thin;
        scrollbar-color: rgba(0,0,0,.2) transparent;
    }

    .table-responsive::-webkit-scrollbar {
        width: 6px;
    }

    .table-responsive::-webkit-scrollbar-track {
        background: transparent;
    }

    .table-responsive::-webkit-scrollbar-thumb {
        background-color: rgba(0,0,0,.2);
        border-radius: 3px;
    }

    .sticky-top {
        position: sticky;
        top: 0;
        z-index: 1;
    }

    .table > thead > tr > th {
        border-bottom: 2px solid #dee2e6;
        padding: 12px;
        font-weight: 600;
    }

    .table > tbody > tr > td {
        padding: 12px;
        vertical-align: middle;
    }

    .table-hover tbody tr:hover {
        background-color: rgba(0,0,0,.075);
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: rgba(0,0,0,.02);
    }
    </style>
</body>
</html> 